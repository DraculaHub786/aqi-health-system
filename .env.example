# Environment Variables Template
# Copy this file to .env and fill in your API keys

# WAQI API Key (Get from https://aqicn.org/data-platform/token/)
WAQI_API_KEY=c294968cd8d66811cae8a5cddb3928cf4b7ff695

# OpenWeather API Key (Get from https://openweathermap.org/api)
OPENWEATHER_API_KEY=demo

# Application Settings
ENV=production
DEBUG=false
CACHE_TTL=300
LOG_LEVEL=INFO

# Database
DB_PATH=data/aqi_history.db

# ============================================
# Google Colab Deployment Script (OPTIMIZED)
# ============================================
# For full step-by-step guide, see COLAB_DEPLOYMENT.py
# Copy the code below into Google Colab cells

# CELL 1: Clone Repository & Clean NLTK
"""
!rm -rf aqi-health-system
!git clone https://github.com/DraculaHub786/aqi-health-system.git
%cd aqi-health-system
import shutil
shutil.rmtree('/root/nltk_data', ignore_errors=True)
shutil.rmtree('/content/nltk_data', ignore_errors=True)
"""

# CELL 2: Install All Dependencies (may take 3-5 minutes)
"""
!pip install -q streamlit plotly pandas numpy scikit-learn
!pip install -q vaderSentiment textblob nltk transformers torch
!pip install -q sentence-transformers sentencepiece pyngrok
import nltk
nltk.download('punkt')
nltk.download('averaged_perceptron_tagger')
nltk.download('wordnet')
nltk.download('omw-1.4')
"""

# CELL 3: Test NLP Models (IMPORTANT - checks if AI will work)
"""
from transformers import pipeline
import torch
print(f'Transformers: âœ…')
print(f'PyTorch: {torch.__version__}')
# Test model loading
classifier = pipeline("sentiment-analysis", model="distilbert-base-uncased-finetuned-sst-2-english")
result = classifier("Test")
print(f'Model test: {result}')
"""

# CELL 4: Configure ngrok & Start App
"""
NGROK_AUTH_TOKEN = "YOUR_TOKEN_FROM_https://dashboard.ngrok.com/get-started/your-authtoken"

from pyngrok import ngrok
import subprocess, time

ngrok.set_auth_token(NGROK_AUTH_TOKEN)
!pkill -f streamlit

proc = subprocess.Popen(
    ["streamlit", "run", "streamlit_app.py", "--server.headless=true",
     "--server.address=0.0.0.0", "--server.port=8501", "--logger.level=warning"],
    stdout=subprocess.PIPE, stderr=subprocess.PIPE
)

time.sleep(10)
public_url = ngrok.connect(8501, "http")
print(f"\\nðŸŽ‰ APP LIVE AT: {public_url}\\n")
"""

# CELL 5: Stop App
"""
!pkill -f streamlit
!pkill -f ngrok
"""